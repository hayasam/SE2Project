\section{Runtime view}
The components of the system interact with each other, in order to carry out the various activity that the system must has to accomplish.
The activity are explained from different perspective as necessary.

\subsection{Passenger makes a Request}
Components involved and their role:
\begin{itemize}
	\item \textbf{Passenger (Application)}: the activity starts when the passenger, from the mobile application, submits the request through the relative form. When the button is pressed, the client calls the method makeRequest of the Ride Handler component passing as parameters all the data of the form. He then expects as response either an affirmative message with the taxi driver info, or a negative message because there are no available taxi for the location provided.
	\item \textbf{Ride Handler}: once the Ride Handler as been called by the passenger, it firstly check whether the provided location is valid (using the Geographic Engine method) then he calls the Taxi Manager method provideTaxi, expecting a response with either a taxi or an negative message because there are no available taxi for the location provided.
	\item \textbf{Geographic Engine}: it checks if the location provided is valid or not.
	\item \textbf{Taxi Manager}: it provides a taxi for the specified location, if any available. For further details see \ref{subsec:taxi_provision}.
\end{itemize}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{../"Analysis Documents"/request}
	\label{fig:request_seq}
	\caption{Sequence Diagram of the request}
\end{figure}

\subsection{Passenger makes a Reservation}
Components involved and their role:
\begin{itemize}
	\item \textbf{Passenger (Application)}: the activity starts when the passenger, from the mobile application, submits the reservation through the relative form. When the button is pressed, the client calls the method makeReservation of the Ride Handler component passing as parameters all the data of the form. He expects as a response the outcome of the submission. Unless the location provided is not valid, the response is affirmative. The Passenger application now keeps behaving as usual and gets called by the system less then 10 minutes before the meeting time with the information of the taxi driver.
	\item \textbf{Ride Handler}: once the Ride Handler as been called by the passenger, it firstly check whether the provided location is valid (using the Geographic Engine method) then sends to the passenger the outcome of the reservation. After that, before looking for a taxi driver who will serve the reservation, he waits until 10 minutes before the meeting time. Once he wakes up, he calls the Taxi Manager method provideTaxi, expecting a response with either a taxi or an negative message because there are no available taxi for the location provided. In case the response is negative, he keeps calling the provideTaxi method until he finds an available taxi driver.
	\item \textbf{Geographic Engine}: it checks if the location provided is valid or not.
	\item \textbf{Taxi Manager}: it provides a taxi for the specified location, if any available. For further details see \ref{subsec:taxi_provision}.
\end{itemize}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{../"Analysis Documents"/reservation}
	\label{fig:reservation_seq}
	\caption{Sequence Diagram of the reservation}
\end{figure}

\subsection{Provision of a taxi}
\label{subsec:taxi_provision}
Components involved and their role:
\begin{itemize}
	\item \textbf{Taxi Manager}:
	\item \textbf{Geographic Engine}:
	\item \textbf{Queue Manager}:
	\item \textbf{Taxi Driver (Application)}:
\end{itemize}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{../"Analysis Documents"/provideTaxi}
	\label{fig:provideTaxi_seq}
	\caption{Sequence Diagram of the provision of a taxi}
\end{figure}